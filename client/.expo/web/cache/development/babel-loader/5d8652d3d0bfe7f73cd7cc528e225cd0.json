{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport actionTypes from \"./action-types\";\nvar productsURL = 'http://172.20.10.4:4500/products';\nvar userURL = 'http://172.20.10.4:4500/users/5fc8fc5144da28d4c664b75a';\nexport function loadProductsSuccess(productsList) {\n  return {\n    productsList: productsList,\n    type: actionTypes.LOAD_PRODUCTS\n  };\n}\nexport function loadProductsError(error) {\n  return {\n    error: error,\n    type: actionTypes.LOAD_PRODUCTS_ERROR\n  };\n}\nexport function loadProductList() {\n  return function _callee(dispatch) {\n    var productsList;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(productsURL));\n\n          case 3:\n            productsList = _context.sent;\n            dispatch(loadProductsSuccess(productsList.data));\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch(loadProductsError(_context.t0));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n}\nexport function loadOrderProductsSuccess(orderList) {\n  return {\n    orderList: orderList,\n    type: actionTypes.LOAD_ORDER_PRODUCTS\n  };\n}\nexport function loadOrderProductsError(error) {\n  return {\n    error: error,\n    type: actionTypes.LOAD_ORDER_PRODUCTS_ERROR\n  };\n}\nexport function loadOrderProductsList() {\n  return function _callee2(dispatch) {\n    var user, orderList;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(userURL));\n\n          case 3:\n            user = _context2.sent;\n            orderList = user.data.saved;\n            dispatch(loadOrderProductsSuccess(orderList));\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch(loadOrderProductsError(_context2.t0));\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n}\nexport function addOrderProductError(error) {\n  return {\n    error: error,\n    type: actionTypes.ADD_TO_ORDER_ERROR\n  };\n}\nexport function addOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.ADD_TO_ORDER,\n    orderList: orderList\n  };\n}\nexport function addOrderProduct(product) {\n  return function _callee3(dispatch) {\n    var productId, newOrderProduct;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            productId = product._id.toString();\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axios.patch(userURL, {\n              _id: productId\n            }));\n\n          case 4:\n            newOrderProduct = _context3.sent;\n            dispatch(addOrderProductSuccess(newOrderProduct.data.saved));\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n}","map":{"version":3,"sources":["/Users/daniel/Skylab/NowaitR/dani-final-project/client/src/redux/actions/productsActions.js"],"names":["axios","actionTypes","productsURL","userURL","loadProductsSuccess","productsList","type","LOAD_PRODUCTS","loadProductsError","error","LOAD_PRODUCTS_ERROR","loadProductList","dispatch","get","data","loadOrderProductsSuccess","orderList","LOAD_ORDER_PRODUCTS","loadOrderProductsError","LOAD_ORDER_PRODUCTS_ERROR","loadOrderProductsList","user","saved","addOrderProductError","ADD_TO_ORDER_ERROR","addOrderProductSuccess","ADD_TO_ORDER","addOrderProduct","product","productId","_id","toString","patch","newOrderProduct","console","log"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport actionTypes from './action-types';\n\nconst productsURL = 'http://172.20.10.4:4500/products';\nconst userURL = 'http://172.20.10.4:4500/users/5fc8fc5144da28d4c664b75a'; // User?\n\nexport function loadProductsSuccess(productsList) {\n  return {\n    productsList,\n    type: actionTypes.LOAD_PRODUCTS,\n  };\n}\n\nexport function loadProductsError(error) {\n  return {\n    error,\n    type: actionTypes.LOAD_PRODUCTS_ERROR,\n  };\n}\n\nexport function loadProductList() {\n  return async (dispatch) => {\n    try {\n      const productsList = await axios.get(productsURL);\n      dispatch(loadProductsSuccess(productsList.data));\n    } catch (error) {\n      dispatch(loadProductsError(error));\n    }\n  };\n}\n\nexport function loadOrderProductsSuccess(orderList) {\n  return {\n    orderList,\n    type: actionTypes.LOAD_ORDER_PRODUCTS,\n  };\n}\n\nexport function loadOrderProductsError(error) {\n  return {\n    error,\n    type: actionTypes.LOAD_ORDER_PRODUCTS_ERROR,\n  };\n}\n\nexport function loadOrderProductsList() {\n  return async (dispatch) => {\n    try {\n      const user = await axios.get(userURL);\n      const orderList = user.data.saved;\n\n      dispatch(loadOrderProductsSuccess(orderList));\n    } catch (error) {\n      dispatch(loadOrderProductsError(error));\n    }\n  };\n}\n\nexport function addOrderProductError(error) {\n  return {\n    error,\n    type: actionTypes.ADD_TO_ORDER_ERROR,\n  };\n}\n\nexport function addOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.ADD_TO_ORDER,\n    orderList,\n  };\n}\n\nexport function addOrderProduct(product) {\n  return async (dispatch) => {\n    try {\n      // eslint-disable-next-line no-underscore-dangle\n      const productId = product._id.toString();\n      const newOrderProduct = await axios.patch(\n        userURL,\n        { _id: productId },\n      );\n\n      dispatch(addOrderProductSuccess(newOrderProduct.data.saved));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}