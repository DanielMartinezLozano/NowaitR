{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport actionTypes from \"./action-types\";\nvar productsURL = 'http://172.20.10.4:4500/products';\nvar authURL = 'http://172.20.10.4:4500/users/auth/';\nvar userURL = 'http://172.20.10.4:4500/users/';\nexport function loadProductsSuccess(productsList) {\n  return {\n    productsList: productsList,\n    type: actionTypes.LOAD_PRODUCTS\n  };\n}\nexport function loadProductsError(error) {\n  return {\n    error: error,\n    type: actionTypes.LOAD_PRODUCTS_ERROR\n  };\n}\nexport function loadProductList() {\n  return function _callee(dispatch) {\n    var productsList;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(productsURL));\n\n          case 3:\n            productsList = _context.sent;\n            dispatch(loadProductsSuccess(productsList.data));\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch(loadProductsError(_context.t0));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n}\nexport function loadOrderProductsSuccess(orderList) {\n  return {\n    orderList: orderList,\n    type: actionTypes.LOAD_ORDER_PRODUCTS\n  };\n}\nexport function loadOrderProductsError(error) {\n  return {\n    error: error,\n    type: actionTypes.LOAD_ORDER_PRODUCTS_ERROR\n  };\n}\nexport function loadOrderProductsList(mongoUser) {\n  return function _callee2(dispatch) {\n    var user, orderList;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"\" + authURL + mongoUser.sub));\n\n          case 3:\n            user = _context2.sent;\n            orderList = user.data.saved;\n            dispatch(loadOrderProductsSuccess(orderList));\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch(loadOrderProductsError(_context2.t0));\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n}\nexport function addOrderProductError(error) {\n  return {\n    error: error,\n    type: actionTypes.ADD_TO_ORDER_ERROR\n  };\n}\nexport function addOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.ADD_TO_ORDER,\n    orderList: orderList\n  };\n}\nexport function addOrderProduct(product, mongoUser) {\n  return function _callee3(dispatch) {\n    var productId, newOrderProduct;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            productId = product._id.toString();\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axios.patch(\"\" + userURL + mongoUser._id.toString(), {\n              _id: productId\n            }));\n\n          case 4:\n            newOrderProduct = _context3.sent;\n            dispatch(addOrderProductSuccess(newOrderProduct.data.saved));\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            dispatch(addOrderProductError(_context3.t0));\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n}\nexport function deleteOrderProductError(error) {\n  return {\n    error: error,\n    type: actionTypes.DELETE_FROM_ORDER_ERROR\n  };\n}\nexport function deleteOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.DELETE_FROM_ORDER,\n    orderList: orderList\n  };\n}\nexport function deleteOrderProduct(product, mongoUser) {\n  return function _callee4(dispatch) {\n    var productId, newOrderProduct;\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            productId = product._id.toString();\n            _context4.next = 4;\n            return _regeneratorRuntime.awrap(axios.delete(\"\" + userURL + mongoUser._id.toString(), {\n              data: {\n                _id: productId\n              }\n            }));\n\n          case 4:\n            newOrderProduct = _context4.sent;\n            dispatch(deleteOrderProductSuccess(newOrderProduct.data.saved));\n            _context4.next = 11;\n            break;\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](0);\n            dispatch(deleteOrderProductError(_context4.t0));\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n}","map":{"version":3,"sources":["/Users/daniel/Skylab/NowaitR/dani-final-project/client/src/redux/actions/productsActions.js"],"names":["axios","actionTypes","productsURL","authURL","userURL","loadProductsSuccess","productsList","type","LOAD_PRODUCTS","loadProductsError","error","LOAD_PRODUCTS_ERROR","loadProductList","dispatch","get","data","loadOrderProductsSuccess","orderList","LOAD_ORDER_PRODUCTS","loadOrderProductsError","LOAD_ORDER_PRODUCTS_ERROR","loadOrderProductsList","mongoUser","sub","user","saved","addOrderProductError","ADD_TO_ORDER_ERROR","addOrderProductSuccess","ADD_TO_ORDER","addOrderProduct","product","productId","_id","toString","patch","newOrderProduct","deleteOrderProductError","DELETE_FROM_ORDER_ERROR","deleteOrderProductSuccess","DELETE_FROM_ORDER","deleteOrderProduct","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport actionTypes from './action-types';\n\nconst productsURL = 'http://172.20.10.4:4500/products';\nconst authURL = 'http://172.20.10.4:4500/users/auth/';\nconst userURL = 'http://172.20.10.4:4500/users/';\n\nexport function loadProductsSuccess(productsList) {\n  return {\n    productsList,\n    type: actionTypes.LOAD_PRODUCTS,\n  };\n}\n\nexport function loadProductsError(error) {\n  return {\n    error,\n    type: actionTypes.LOAD_PRODUCTS_ERROR,\n  };\n}\n\nexport function loadProductList() {\n  return async (dispatch) => {\n    try {\n      const productsList = await axios.get(productsURL);\n      dispatch(loadProductsSuccess(productsList.data));\n    } catch (error) {\n      dispatch(loadProductsError(error));\n    }\n  };\n}\n\nexport function loadOrderProductsSuccess(orderList) {\n  return {\n    orderList,\n    type: actionTypes.LOAD_ORDER_PRODUCTS,\n  };\n}\n\nexport function loadOrderProductsError(error) {\n  return {\n    error,\n    type: actionTypes.LOAD_ORDER_PRODUCTS_ERROR,\n  };\n}\n\nexport function loadOrderProductsList(mongoUser) {\n  return async (dispatch) => {\n    try {\n      const user = await axios.get(`${authURL}${mongoUser.sub}`);\n      const orderList = user.data.saved;\n\n      dispatch(loadOrderProductsSuccess(orderList));\n    } catch (error) {\n      dispatch(loadOrderProductsError(error));\n    }\n  };\n}\n\nexport function addOrderProductError(error) {\n  return {\n    error,\n    type: actionTypes.ADD_TO_ORDER_ERROR,\n  };\n}\n\nexport function addOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.ADD_TO_ORDER,\n    orderList,\n  };\n}\n\nexport function addOrderProduct(product, mongoUser) {\n  return async (dispatch) => {\n    try {\n      // eslint-disable-next-line no-underscore-dangle\n      const productId = product._id.toString();\n      const newOrderProduct = await axios.patch(\n        `${userURL}${mongoUser._id.toString()}`,\n        { _id: productId },\n      );\n      dispatch(addOrderProductSuccess(newOrderProduct.data.saved));\n    } catch (error) {\n      dispatch(addOrderProductError(error));\n    }\n  };\n}\n\nexport function deleteOrderProductError(error) {\n  return {\n    error,\n    type: actionTypes.DELETE_FROM_ORDER_ERROR,\n  };\n}\n\nexport function deleteOrderProductSuccess(orderList) {\n  return {\n    type: actionTypes.DELETE_FROM_ORDER,\n    orderList,\n  };\n}\n\nexport function deleteOrderProduct(product, mongoUser) {\n  return async (dispatch) => {\n    try {\n      // eslint-disable-next-line no-underscore-dangle\n      const productId = product._id.toString();\n      const newOrderProduct = await axios.delete(\n        `${userURL}${mongoUser._id.toString()}`,\n        { data: { _id: productId } },\n      );\n      dispatch(deleteOrderProductSuccess(newOrderProduct.data.saved));\n    } catch (error) {\n      dispatch(deleteOrderProductError(error));\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}