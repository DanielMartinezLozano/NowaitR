{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Skylab/NowaitR/dani-final-project/client/src/components/Order/Order.jsx\";\nimport React, { useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Icon from \"@expo/vector-icons/AntDesign\";\nimport { useNavigation, CommonActions } from '@react-navigation/native';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { addOrderProduct, loadOrderProductsList, deleteOrderProduct } from \"../../redux/actions/productsActions\";\nimport totalPrice from \"./totalPrice\";\nimport styles from \"./OrderStyles\";\n\nfunction Order(_ref) {\n  var _this = this;\n\n  var orderList = _ref.orderList,\n      dispatch = _ref.dispatch,\n      mongoUser = _ref.mongoUser;\n  console.log(mongoUser);\n  var navigation = useNavigation();\n  useEffect(function () {\n    if (!(orderList != null && orderList.length) && mongoUser != null && mongoUser.sub) {\n      dispatch(loadOrderProductsList(mongoUser.sub));\n    }\n  }, [orderList, mongoUser]);\n  return orderList.length !== 0 && React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    ListHeaderComponent: React.createElement(View, {\n      style: styles.titleContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.dispatch(CommonActions.goBack());\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, React.createElement(Icon, {\n      name: \"close\",\n      size: 32,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    })), React.createElement(Text, {\n      style: styles.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, \"Mi Pedido\")),\n    data: orderList,\n    horizontal: false,\n    keyExtractor: function keyExtractor(item, _index) {\n      return item._id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var _item$product$price;\n\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.productView,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.buttons,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          return dispatch(deleteOrderProduct(item.product));\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }\n      }, React.createElement(Icon, {\n        color: \"#FFF\",\n        name: \"minus\",\n        size: 30,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      })), React.createElement(Text, {\n        style: styles.quantity,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, item.quantity), React.createElement(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          return dispatch(addOrderProduct(item.product));\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, React.createElement(Icon, {\n        color: \"#FFF\",\n        name: \"plus\",\n        size: 30,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.productInfo,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.productTitle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, item.product.name), React.createElement(Text, {\n        style: styles.price,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, ((_item$product$price = item.product.price) == null ? void 0 : _item$product$price.toFixed(2)) + \" \\u20AC\"))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.totalContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.totalText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Total:\"), React.createElement(Text, {\n    style: styles.totalAmount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, totalPrice(orderList) + \" \\u20AC\")), React.createElement(TouchableOpacity, {\n    style: styles.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.submitText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Enviar pedido a cocina\"), React.createElement(Icon, {\n    name: \"arrowright\",\n    size: 32,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })));\n}\n\nOrder.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  orderList: PropTypes.arrayOf(PropTypes.object),\n  mongoUser: PropTypes.shape({\n    sub: PropTypes.string\n  })\n};\nOrder.defaultProps = {\n  orderList: [],\n  mongoUser: {}\n};\n\nfunction mapStateToProps(_ref3) {\n  var orderReducer = _ref3.orderReducer,\n      authReducer = _ref3.authReducer;\n  return {\n    orderList: orderReducer.orderList,\n    mongoUser: authReducer.user\n  };\n}\n\nexport default connect(mapStateToProps)(Order);","map":{"version":3,"sources":["/Users/daniel/Skylab/NowaitR/dani-final-project/client/src/components/Order/Order.jsx"],"names":["React","useEffect","PropTypes","connect","Icon","useNavigation","CommonActions","TouchableOpacity","addOrderProduct","loadOrderProductsList","deleteOrderProduct","totalPrice","styles","Order","orderList","dispatch","mongoUser","console","log","navigation","length","sub","flex","titleContainer","goBack","title","item","_index","_id","productView","buttons","button","product","quantity","productInfo","productTitle","name","price","toFixed","totalContainer","totalText","totalAmount","submit","submitText","propTypes","func","isRequired","arrayOf","object","shape","string","defaultProps","mapStateToProps","orderReducer","authReducer","user"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport {\n  Text, View, FlatList,\n} from 'react-native';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Icon from 'react-native-vector-icons/AntDesign';\nimport { useNavigation, CommonActions } from '@react-navigation/native';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { addOrderProduct, loadOrderProductsList, deleteOrderProduct } from '../../redux/actions/productsActions';\nimport totalPrice from './totalPrice';\nimport styles from './OrderStyles';\n\nfunction Order({ orderList, dispatch, mongoUser }) {\n  console.log(mongoUser);\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    if (!orderList?.length && mongoUser?.sub) {\n      dispatch(loadOrderProductsList(mongoUser.sub));\n    }\n  },\n  [orderList, mongoUser]);\n\n  return (\n    orderList.length !== 0\n    && (\n    <View style={{ flex: 1 }}>\n      <FlatList\n        ListHeaderComponent={(\n          <View style={styles.titleContainer}>\n            <TouchableOpacity\n              onPress={() => navigation.dispatch(CommonActions.goBack())}\n            >\n              <Icon\n                name=\"close\"\n                size={32}\n              />\n            </TouchableOpacity>\n            <Text style={styles.title}>Mi Pedido</Text>\n          </View>\n    )}\n        data={orderList}\n        horizontal={false}\n        // eslint-disable-next-line no-unused-vars\n        keyExtractor={(item, _index) => item._id}\n        renderItem={({ item }) => (\n          <View style={styles.productView}>\n            <View style={styles.buttons}>\n              <TouchableOpacity\n                style={styles.button}\n                onPress={() => dispatch(deleteOrderProduct(item.product))}\n              >\n                <Icon\n                  color=\"#FFF\"\n                  name=\"minus\"\n                  size={30}\n                />\n              </TouchableOpacity>\n              <Text style={styles.quantity}>{item.quantity}</Text>\n              <TouchableOpacity\n                style={styles.button}\n                onPress={() => dispatch(addOrderProduct(item.product))}\n              >\n                <Icon\n                  color=\"#FFF\"\n                  name=\"plus\"\n                  size={30}\n                />\n              </TouchableOpacity>\n              <View style={styles.productInfo}>\n                <Text style={styles.productTitle}>{item.product.name}</Text>\n                <Text style={styles.price}>{`${item.product.price?.toFixed(2)} €`}</Text>\n              </View>\n            </View>\n          </View>\n        )}\n      />\n      <View style={styles.totalContainer}>\n        <Text style={styles.totalText}>Total:</Text>\n        <Text style={styles.totalAmount}>{`${totalPrice(orderList)} €`}</Text>\n      </View>\n      <TouchableOpacity style={styles.submit}>\n        <Text style={styles.submitText}>Enviar pedido a cocina</Text>\n        <Icon\n          name=\"arrowright\"\n          size={32}\n          color=\"white\"\n        />\n      </TouchableOpacity>\n    </View>\n    )\n  );\n}\n\nOrder.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  orderList: PropTypes.arrayOf(PropTypes.object),\n  mongoUser: PropTypes.shape({ sub: PropTypes.string }),\n};\n\nOrder.defaultProps = {\n  orderList: [],\n  mongoUser: {},\n};\n\nfunction mapStateToProps({ orderReducer, authReducer }) {\n  return {\n    orderList: orderReducer.orderList,\n    mongoUser: authReducer.user,\n  };\n}\n\nexport default connect(mapStateToProps)(Order);\n"]},"metadata":{},"sourceType":"module"}